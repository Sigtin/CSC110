package complex;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class Math {

	public static void main(String[] args) throws IOException {
		BufferedReader readRacer = new BufferedReader(new InputStreamReader(System.in));
		System.out.println("Welcome to the Fraculator");
		boolean isLooping = false;
		do{
			System.out.println("To reduce a fraction, press 1");
			System.out.println("To perform fraction math, press 2");
			System.out.println("To exit the program, press 3");
			String input = readRacer.readLine();
			int userInput = Integer.parseInt(input);
			switch(userInput){
			case 1: 
				System.out.print("Please enter a number for the numerator: ");
				input = readRacer.readLine();
				int numerator = Integer.parseInt(input);
				System.out.print("Please enter a number for the denominator: ");
				input = readRacer.readLine();
				int denominator = Integer.parseInt(input);
				System.out.print(numerator + "/" + denominator + " = ");
				for(int i = 2; i <= denominator; i++){
					while(denominator % i == 0 && numerator % i == 0){
						denominator /= i;
						numerator /= i;	
					}
				}double denominatorTwo = denominator;
				double numeratorTwo = numerator;		
				double decInt = numeratorTwo / denominatorTwo;
				System.out.println(numerator + "/" + denominator + " or " + decInt);
				break;
			case 2:
				System.out.print("Please enter a number for numerator one: ");
					input = readRacer.readLine();
					int numerator1 = Integer.parseInt(input);
				
				System.out.print("Please enter a number for denominator one: ");
					input = readRacer.readLine();
					int denominator1 = Integer.parseInt(input);
				
				System.out.print("Please enter a number for numerator two: ");
					input = readRacer.readLine();
					int numerator2 = Integer.parseInt(input);
				
				System.out.print("Please enter a number for denominator two: ");
					input = readRacer.readLine();
					int denominator2 = Integer.parseInt(input);
				
				System.out.print("Please enter the operator you wish to use: ");
					input = readRacer.readLine();
					char operator = input.charAt(0);
				if(operator == '+'){
					System.out.print(numerator1 + "/" + denominator1 + " + " + numerator2 + "/" + denominator2 + " = ");
					for(int i = 2; i <= denominator1 && i <= denominator2; i++){
						while(denominator1 % i == 0 && numerator1 % i == 0 && denominator2 % i == 0 && numerator2 % i == 0){
							denominator1 /= i;
							numerator1 /= i;
							denominator2 /= i;
							numerator2 /= i;
						}
					}double denominatorOne = denominator1;
					double numeratorOne = numerator1;
					double denominatorThree = denominator2;
					double numeratorThree = numerator2;
					double decFrac = (numeratorOne / denominatorOne) + (numeratorThree / denominatorThree);
					System.out.println(numerator1 + "/" + denominator1 + " or " + decFrac);
				}
				
				
			case 3:
				System.exit(0);
			}
			
		}while(!isLooping);

	}

}
